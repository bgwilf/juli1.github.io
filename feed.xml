<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Julien Delange</title>
    <description>Tales of a guy living in Pittsburgh addicted with Computer-Science, Running and Peanut Butter</description>
    <link>http://julien.gunnm.org/</link>
    <atom:link href="http://julien.gunnm.org/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Sat, 28 May 2016 07:35:54 -0400</pubDate>
    <lastBuildDate>Sat, 28 May 2016 07:35:54 -0400</lastBuildDate>
    <generator>Jekyll v3.1.3</generator>
    
      <item>
        <title>Swissvale activity guide</title>
        <description>&lt;p&gt;I have been a resident of &lt;a href=&quot;http://www.swissvale.org&quot;&gt;Swissvale&lt;/a&gt; for more than 2 years now and I think I have a good idea about where to go if you want to be outside. I might miss some details and you are welcome to send errata or just some information to complete this guide.&lt;/p&gt;

&lt;p&gt;The following map is a general map of Swissvale with many points of interests. It includes several places for outdoor and indoor activities.
Also, a good source of information about swissvale can be found on the
&lt;a href=&quot;http://www.swissvale.org&quot;&gt;swissvale community website&lt;/a&gt;.&lt;/p&gt;

&lt;center&gt;
&lt;iframe src=&quot;https://www.google.com/maps/d/embed?mid=1H6IwVhrsjCAR9kjU4aMMfAMKr7w&quot; width=&quot;640&quot; height=&quot;480&quot;&gt;&lt;/iframe&gt;
&lt;/center&gt;

&lt;h1 id=&quot;general-points-of-interests&quot;&gt;General points of interests&lt;/h1&gt;

&lt;h2 id=&quot;frick-park&quot;&gt;Frick Park&lt;/h2&gt;

&lt;p&gt;The Frick Park has a lot to offer for almost everybody. You can walk, run, bike, have a picnic, let’s your kids play on the playground or let your dog exercise in off-leash areas. Located very close to Swissvale, you can just walk/jog/bike there or even park.&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;http://wpoc.org/&quot;&gt;Western Pennsylvanian Orienteering Club&lt;/a&gt; has made a map of Frick Park. You can &lt;a href=&quot;http://wpoc.org/FrickTrailx.pdf&quot;&gt;find it there&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/frick-park-map.png&quot; alt=&quot;frick-park-map&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wpoc.org/FrickTrailx.pdf&quot;&gt;Topographic map of Frick Park&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;going-to-downtown-by-bike&quot;&gt;Going to downtown by bike&lt;/h2&gt;

&lt;p&gt;From Swissvale, you can go downtown with your bike very easily and using almost only bike lanes. This is about 10 miles, which can be between 30 minutes and one hour, depending your fitness level. The route pass by the south side and along the Monongahela river, which is very pleasant.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.mapmyrun.com/routes/view/1056058237&quot;&gt;You can check out the map on mapmyrun&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;connection-to-the-gap&quot;&gt;Connection to the GAP&lt;/h2&gt;

&lt;p&gt;The &lt;a href=&quot;https://gaptrail.org/&quot;&gt;GAP&lt;/a&gt; lets you do a full 335 miles bike ride from Pittsburgh, PA to Washington D.C. You can easily go on the &lt;a href=&quot;https://gaptrail.org/&quot;&gt;GAP course&lt;/a&gt; from Swissvale, the route pass by Homestead. All it takes it about 2 to 3 miles.&lt;/p&gt;

&lt;p&gt;You can check out &lt;a href=&quot;http://www.mapmyrun.com/routes/view/1056058821&quot;&gt;the map to connect to the GAP from Swissvale on mapmyrun&lt;/a&gt;. An alternative if you do not want to use commercial st. and the trail: use the Rankin bridge, which has a bike lane. You can then connect to the GAP.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/on-the-gap.jpg&quot; alt=&quot;on-the-gap&quot; /&gt;&lt;/p&gt;

&lt;p&gt;View while riding on the Great Allegheny Passage&lt;/p&gt;

&lt;h1 id=&quot;running-and-biking&quot;&gt;Running and Biking&lt;/h1&gt;

&lt;h2 id=&quot;general-tips&quot;&gt;General tips&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Do not use South Braddock Avenue, use East-End Avenue instead. You will avoid the pollution and heavy traffic.&lt;/li&gt;
  &lt;li&gt;During winter, be very careful of potential icy spots in Frick.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;going-to-frick&quot;&gt;Going to Frick&lt;/h2&gt;

&lt;p&gt;There are many options to go to Frick. If you go by running/biking/walking, the options are the following:
 * Go down commercial st and turn right at the bottom of commercial (location of Entrance Frick 1 on the map)
 * Use South Braddock and use the Park entrance at the CLASS building (location of Entrance Frick 2 on the map)&lt;/p&gt;

&lt;p&gt;If you are driving your car, you can park around the park, either at the bottom of commercial, close to the CLASS building or close to the tennis court. The map has some dedicated places to indicate where you can park.&lt;/p&gt;

&lt;p&gt;There is two maps available if you want to train in Frick: a &lt;a href=&quot;http://www.mapmyrun.com/routes/view/1056062605&quot;&gt;10 miles option that go through Frick and Schenley&lt;/a&gt; and a easy 4 miles loop only in Frick&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/frick-park-winter.jpg&quot; alt=&quot;frick-park-winter&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Frick Park during Winter&lt;/p&gt;

&lt;h2 id=&quot;fast-5-miles-around-swissvalewilkinsburghedgewood&quot;&gt;Fast 5 miles around Swissvale/Wilkinsburgh/Edgewood&lt;/h2&gt;

&lt;p&gt;There is a good loop around Swissvale/Edgewood/Wilkinsburg that I do regularly and is fantastic if you train for a road race. This is a 5 miles loop that you can extend depending your training needs (you can extend by going in Squirrel Hill through Forbes for example).&lt;/p&gt;

&lt;p&gt;This route does not has much hills so you can have an idea of your pace on a road race, such as a marathon. This is the route I am using when I want to do a speed test for a 10K, a half marathon or a flat marathon such as Pittsburgh. &lt;a href=&quot;http://www.mapmyrun.com/routes/view/1057012411&quot;&gt;Check out the map there!&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;route-suggestions&quot;&gt;Route Suggestions&lt;/h2&gt;
&lt;p&gt;The following routes are there to give you some ideas for commuting by bike or running. The goal is not to take the shortest route but the one that is short and try to avoid cars and traffic. It is a good compromise to commute without having potential hazards or issues.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.mapmyrun.com/routes/view/1056063795&quot;&gt;Swissvale to Shadyside&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.mapmyrun.com/routes/view/1056064393&quot;&gt;Swissvale to Carnegie Mellon University&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.mapmyrun.com/routes/view/1056064787&quot;&gt;Swissvale to the East-End Food Coop&lt;/a&gt;: no need to use your car anymore to get your groceries!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.mapmyrun.com/routes/view/1056062605&quot;&gt;Run around Frick and Schenley Park&lt;/a&gt;: 10 miles with a good elevation, this is perfect if you want to prepare a marathon or even a more challenging event (i.e. ironman, ultra-marathon)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.mapmyrun.com/routes/view/1056058821&quot;&gt;Swissvale to the GAP&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.mapmyrun.com/routes/view/1056058237&quot;&gt;Swissvale to Point State Park&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;walking&quot;&gt;Walking&lt;/h1&gt;

&lt;p&gt;Frick is probably the best place for a walk around. Unfortunately, getting there might take some time and the route to go to the park is not so nice. check out the map to see where you can park. Otherwise, you can still go and walk around Swissvale and go to different parks. The children playground in Swisselm is great when you have some sun.&lt;/p&gt;

&lt;h1 id=&quot;playground&quot;&gt;Playground&lt;/h1&gt;

&lt;h2 id=&quot;swisselm-playground&quot;&gt;Swisselm Playground&lt;/h2&gt;

&lt;p&gt;The Swisselm playground is a great location close to Swissvale. You can also go there by walking or biking (assuming your kid(s) can bike).&lt;/p&gt;

&lt;h2 id=&quot;frick-park-playground&quot;&gt;Frick Park Playground&lt;/h2&gt;

&lt;p&gt;There is also a playground in Frick Park at the entrance on Beechwood Boulevard. Unfortunately, this is not so easy to access it if you are walking and would require to drive. However, there is plenty of parking around.&lt;/p&gt;

&lt;h1 id=&quot;dog-parks&quot;&gt;Dog Parks&lt;/h1&gt;

&lt;p&gt;Frick Park has two dog parks:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Located in the lower part of Frick Park, this is easily accessible if you park close to the tennis court (entrance 3 on the map)&lt;/li&gt;
  &lt;li&gt;Located in the upper part of Frick Park, it is better to use the entrance on Beechwood boulevard to find it.&lt;/li&gt;
&lt;/ol&gt;

&lt;h1 id=&quot;bike-friendly-businesses&quot;&gt;Bike-friendly businesses&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.biddlesescape.com/&quot;&gt;Biddle’s Escape&lt;/a&gt;: this local coffee shop has a bike rack in front of the store. Well located close to Frick Park, this is a fantastic place to have a cup of coffee with a friend or stay to work.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.eastendfood.coop/&quot;&gt;East-End Food Coop&lt;/a&gt;: close to Swissvale ( to 3 miles), it has some bike racks available next to the parking lot. Bonus, we have a map that shows how to get there safely by avoiding South Braddock.&lt;/li&gt;
  &lt;li&gt;Bike racks close to D’s: in the Regent Square area, there are some bike racks close to D’s. Convenient if you want to shop in the area but definitively not as cool as the one from Biddle’s Escape.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;events-around-swissvale&quot;&gt;Events around Swissvale&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.theswissvalemile.com/&quot;&gt;The Swissvale Mile&lt;/a&gt;: a one mile race in the Swissvale community. The race is an opportunity to gather everybody: runner, walker, dog lovers, kids. Consider going there and supporting your community!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.gprrc.com&quot;&gt;The Gut Buster&lt;/a&gt;: organized by the Greater Pittsburgh Road Runner Club (GPRRC), the Gut Buster takes place on Thanksgiving day in the morning. There is a 4 and 8 miles options. The race is ridiculously cheap (around $5 I guess) and very friendly. It starts in Frick Park and go through the biggest hills. After the race, you can take another piece of cake without any guilt. You can check out the course (8 miles) on &lt;a href=&quot;https://www.strava.com/activities/439779090&quot;&gt;strava&lt;/a&gt; or &lt;a href=&quot;http://www.mapmyrun.com/workout/1261766983&quot;&gt;mapmyrun&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;www.thepittsburghmarathon.com&quot;&gt;The Pittsburgh Marathon&lt;/a&gt;: the official marathon that goes all over the city.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://pedalpgh.org/&quot;&gt;Pedal PGH&lt;/a&gt;: a ride along the city with several distances that accommodates all riders and bikers. Fantastic way to discover Pittsburgh and many places you probably do not know about.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;communities-and-social-media&quot;&gt;Communities and Social Media&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://bikepgh.org/&quot;&gt;Bike Pittsburgh&lt;/a&gt;: THE non-profit to join is you like biking in Pittsburgh. They have a fantastic bike map available on their website. Thanks to them, Pittsburgh has more bike lanes since the last years.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://steelcityrrc.org/&quot;&gt;Steel City Road Runners&lt;/a&gt;: probably the biggest running club in Pittsburgh. Supported by the Pittsburgh marathon office, it offers multiple runs every week in different locations across the city.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.facebook.com/groups/FrickParkTrailRunners/&quot;&gt;Frick Park Trail Runners on facebook&lt;/a&gt;: group to organize runs in Frick Park&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;maps&quot;&gt;Maps&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://wpoc.org/FrickTrailx.pdf&quot;&gt;Frick Park Topographic Map&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;suggestions&quot;&gt;Suggestions?&lt;/h1&gt;
&lt;p&gt;If you have any question or suggestion to improve this, please &lt;a href=&quot;/about&quot;&gt;contact me&lt;/a&gt;.&lt;/p&gt;
</description>
        <pubDate>Thu, 12 May 2016 00:00:00 -0400</pubDate>
        <link>http://julien.gunnm.org/swissvale-active/</link>
        <guid isPermaLink="true">http://julien.gunnm.org/swissvale-active/</guid>
        
        <category>swissvale</category>
        
        <category>biking</category>
        
        <category>running</category>
        
        <category>walking</category>
        
        <category>children</category>
        
        <category>playground</category>
        
        
        <category>swissvale</category>
        
      </item>
    
      <item>
        <title>Periodic tasks with seL4</title>
        <description>&lt;h1 id=&quot;in-a-nutshell&quot;&gt;In a nutshell&lt;/h1&gt;

&lt;p&gt;In this article, I explain how to implement periodic tasks in seL4, a design pattern used in many embedded, safety-critical systems. This sounds probably very basic but using periodic tasks with non-blocking communication mechanisms is really helpful to ensure that your system will continue to work and meet its deadline. Please not that it does not mean that it works correctly, it just guarantees some important timing and behavioral characteristics.&lt;/p&gt;

&lt;h1 id=&quot;context&quot;&gt;Context&lt;/h1&gt;

&lt;p&gt;I started using the &lt;a href=&quot;http://sel4.systems/&quot;&gt;seL4 micro-kernel&lt;/a&gt; since few months. For those who do not know what is seL4, this is a formally verified kernel. Formally verified means that seL4 services are &lt;em&gt;correctly&lt;/em&gt; implemented. It does not mean that the services are &lt;em&gt;correctly&lt;/em&gt; configured and used, which is another story (more on that in a further article).&lt;/p&gt;

&lt;p&gt;The micro-kernel itself provides only very few services, mostly: &lt;abbr title=&quot;Thread Control Block&quot;&gt;TCB&lt;/abbr&gt;, endpoints and other communications services. Nothing more, especially time or scheduling. Device drivers are also implemented in user-space, meaning that partitions must require access to the hardware and manage it appropriately.&lt;/p&gt;

&lt;p&gt;Also, writing code for seL4 is hard. Really hard. You have not only to understand the services but also use the API and do the right function calls with the appropriate arguments. Trust me, it is a real pain. In order to overcome these issues, the NICTA team developed a specific &lt;abbr title=&quot;Architecture Description Language&quot;&gt;ADL&lt;/abbr&gt;, &lt;a href=&quot;https://wiki.sel4.systems/CAmkES&quot;&gt;CAmkES&lt;/a&gt;.&lt;/p&gt;

&lt;h1 id=&quot;issue-with-sel4-and-periodic-tasks&quot;&gt;Issue with seL4 and periodic tasks&lt;/h1&gt;

&lt;p&gt;As mentioned before, seL4 does not provide any timing service. It provides a service to schedule threads (using a Round-Robin policy with priorities) but does not provide anything to wait or be activated at a given period.&lt;/p&gt;

&lt;p&gt;So, if you are looking for something like &lt;code&gt;pthread_cond_timedwait()&lt;/code&gt; or just &lt;code&gt;sleep()&lt;/code&gt; (which is &lt;strong&gt;NOT&lt;/strong&gt; real-time friendly by the way), you will feel out of luck.&lt;/p&gt;

&lt;p&gt;To overcome this issue, you must design your own timing service in a process that will ultimately activate the other tasks.&lt;/p&gt;

&lt;h1 id=&quot;implement-a-timing-service&quot;&gt;Implement a timing service&lt;/h1&gt;

&lt;p&gt;We will implement a timing service with CAmkES. The timing service will define a hardware component (hardware timer) and a time manager that will activate the tasks according to their periods.&lt;/p&gt;

&lt;p&gt;In the following example, we will have two periodic tasks: one is activated every second while the other one is activated every two seconds. We will then define four components:
 1. The hardware component that abstracts the hardware platform
 2. The time manager that manages the hardware components and send a signal to activate the other tasks. One signal will be sent every second, another every two seconds
 3. One task connected to the first signal (activated every second)
 4. One task connected to the second signal (activated every two seconds)&lt;/p&gt;

&lt;p&gt;We will illustrate that with the x86 platform.&lt;/p&gt;

&lt;h2 id=&quot;defining-the-camkes-components&quot;&gt;Defining the CAmkES components&lt;/h2&gt;

&lt;p&gt;The overall architecture is defined below. The CAmkES hardware component models your time, what will give you the concept of time. On the x86 architecture, there is the old &lt;a href=&quot;http://wiki.osdev.org/Programmable_Interval_Timer&quot;&gt;&lt;abbr title=&quot;Programmable Interval Interrupt&quot;&gt;PIT&lt;/abbr&gt;&lt;/a&gt; that provides the concept of time. We will use it then. For more information about how it works, you can read the description on &lt;a href=&quot;http://wiki.osdev.org/Programmable_Interval_Timer&quot;&gt;osdev&lt;/a&gt; or &lt;a href=&quot;https://en.wikibooks.org/wiki/X86_Assembly/Programmable_Interval_Timer&quot;&gt;wikibooks&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/sel4-timer-architecture.png&quot; alt=&quot;architecture&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The timer components and timer managment in CAmkES are defining like the following (&lt;code&gt;Timerbase&lt;/code&gt; being the hardware component and &lt;code&gt;Timer&lt;/code&gt; the time manager)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;component Timerbase {
   hardware;
   provides IOPort command;
   provides IOPort channel0;
   emits PITIRQ irq;
}

component Timer {
  uses IOPort   pit_command;
  uses IOPort   pit_channel0;
  has mutex     timer;
  consumes DataAvailable  irq;

  emits sig Hello1_Thr_activator;
  emits sig Hello2_Thr_activator;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The &lt;code&gt;Timerbase&lt;/code&gt; component accesses two &lt;code&gt;IOPort&lt;/code&gt; that are hardware register/memories used to control the timer. This is architecture-dependent and related to the &lt;abbr title=&quot;Programmable Interval Interrupt&quot;&gt;PIT&lt;/abbr&gt;. The &lt;code&gt;irq&lt;/code&gt; corresponds to the interrupt sent by the system.&lt;/p&gt;

&lt;p&gt;Now, let’s define the application component (application task). We call it &lt;code&gt;HelloThreadImpl&lt;/code&gt;. This task is a control task that will consumes a signal that activates it.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;component HelloThreadImpl
{
  control;
  consumes sig activator;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then, we need to create an assembly that integrates and configures all components. The assembly corresponds to the components configuration showed in the picture before.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;import &amp;lt;std_connector.camkes&amp;gt;;
import &quot;components/timer/Timer.camkes&quot;;
import &quot;components/HelloThreadImpl/HelloThreadImpl.camkes&quot;;
assembly {
  composition {
    component Timerbase timerbase;
    component Timer timer;


    component HelloThreadImpl Hello1_Thr;
    component HelloThreadImpl Hello2_Thr;

    connection seL4Notification notification0
     (from timer.Hello1_Thr_activator, to Hello1_Thr.activator);
                connection seL4Notification notification1 (from timer.Hello2_Thr_activator, to Hello2_Thr.activator);

    connection seL4HardwareInterrupt timer_irq
      (from timerbase.irq, to timer.irq);

    connection seL4HardwareIOPort pit_command
      (from timer.pit_command, to timerbase.command);

  connection seL4HardwareIOPort pit_channel0
      (from timer.pit_channel0, to timerbase.channel0);
  }

  configuration {
    timerbase.irq_attributes = 0;
    timerbase.command_attributes = &quot;0x43:0x43&quot;;
    timerbase.channel0_attributes = &quot;0x40:0x40&quot;;
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We define the timer component (one of type &lt;code&gt;Timerbase&lt;/code&gt; and one of type &lt;code&gt;Timer&lt;/code&gt;) as well as two software components. The connections &lt;code&gt;notification0&lt;/code&gt; and &lt;code&gt;notification1&lt;/code&gt; are the one that will activate the tasks through a signal, to notify them that they can be activated.&lt;/p&gt;

&lt;p&gt;In the &lt;code&gt;configuration&lt;/code&gt; section, the hardware component is configured. This part is architecture-dependent and if you are planning to use such a pattern on another architecture, you would need to adapt the hardware component specification and its relative configuration section.&lt;/p&gt;

&lt;h2 id=&quot;implementing-the-code&quot;&gt;Implementing the code&lt;/h2&gt;

&lt;p&gt;Now, we need to implement the &lt;code&gt;Timer&lt;/code&gt; and the &lt;code&gt;HelloThreadImpl&lt;/code&gt; components.&lt;/p&gt;

&lt;p&gt;For the timer, there is a part that is architecture-dependent and another that is generic and activates the tasks. We will skip the architecture-dependent part, you can look at it in the code by yourself. The most interesting part is in the interrupt handler.&lt;/p&gt;

&lt;p&gt;In the driver interrupt handler, we get the current time in milliseconds. Then, depending on the value, we send a signal to activate a task. In the following code, we send a signal to the first task every 1000 ms and send a signal to the second task every 2000 ms.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;void irq_callback(void *_ UNUSED)
{
  timer_handle_irq(timer_drv, 0);

  uint64_t ms = current_time_ms();

  if ( ( ms % 1000) == 0)
  {
    Hello1_Thr_activator_emit();
  }

  if ( ( ms % 2000) == 0)
  {
    Hello2_Thr_activator_emit();
  }

  irq_reg_callback(irq_callback, NULL);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Let’s have a look at the &lt;code&gt;HelloThreadImpl&lt;/code&gt; code now. It should be pretty obvious with an infinite loop waiting for a signal and executing a piece of code. The code is provided below.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#include &amp;lt;camkes.h&amp;gt;

#include &amp;lt;generatedtypes.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;string.h&amp;gt;

void user_hello_spg ()
{
  printf *&quot;HELLO\n&quot;);
}

int run(void)
{
  while (1)
  {
    activator_wait();
    user_hello_spg ( );
  }
  return 0;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&quot;getting-the-code--run-it&quot;&gt;Getting the code &amp;amp; run it&lt;/h1&gt;
&lt;p&gt;The code is availabe &lt;a href=&quot;/assets/sel4-timer.tgz&quot;&gt;there&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If you want to run it:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Check out CAmkES and make sure it works on your system. To get started, have a look &lt;a href=&quot;https://wiki.sel4.systems/CAmkES&quot;&gt;on the instruction on the seL4 wiki&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Get the code &lt;a href=&quot;/assets/sel4-timer.tgz&quot;&gt;here&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;decompress the archive into the &lt;code&gt;apps/&lt;/code&gt; directory of the CAmkES installation&lt;/li&gt;
  &lt;li&gt;Edit the &lt;code&gt;Kconfig&lt;/code&gt; file at the root directory of your CAmkES installation and add in the &lt;code&gt;Applications&lt;/code&gt; section the following line: &lt;code&gt;source &quot;apps/twotasksx86instance/Kconfig&quot;&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;invoke &lt;code&gt;make ia32_simple_defconfig&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;invoke &lt;code&gt;make oldconfig&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;invoke &lt;code&gt;make&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;If everything compiles fine, it means that a simple example for the ia32 platform works. We can then compiles the example from this article&lt;/li&gt;
  &lt;li&gt;Invoke &lt;code&gt;make menuconfig&lt;/code&gt;. In the menu, in the &lt;code&gt;Applications&lt;/code&gt; section, unselect all examples and select &lt;code&gt;Generated CAmkES TwotasksX86Instance application &lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;exit the configuration tool and save the changes&lt;/li&gt;
  &lt;li&gt;invoke &lt;code&gt;make&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;simulate the system with qemu by invoking &lt;code&gt;qemu-system-i386 -nographic -kernel images/kernel-ia32-pc99 -initrd images/capdl-loader-experimental-image-ia32-pc99&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;When running the code, you should just see that you get more output every two seconds. Basically, every second, you get two &lt;em&gt;HELLO&lt;/em&gt; message on the console while every two seconds, you see two messages.&lt;/p&gt;

&lt;h1 id=&quot;issues--limitations&quot;&gt;Issues &amp;amp; limitations&lt;/h1&gt;
&lt;p&gt;In this post, I tried to explain how to use seL4 and its related &lt;abbr title=&quot;Architecture Description Language&quot;&gt;ADL&lt;/abbr&gt; in order to implement a popular design pattern for safety-critical systems: a periodic tasks. As seL4 provides very minimal services and as no built-in timing service, you must define them yourself.&lt;/p&gt;

&lt;p&gt;Beyond that, one can notice that there is some issues with such an approach. First of all, it assumes that the system is &lt;em&gt;schedulable&lt;/em&gt; and that all tasks will complete their job and will not interfere with the execution of the other tasks. If one task that is at a high priority takes all the CPU (in other word, if the code in &lt;code&gt;user_hello_spg&lt;/code&gt; contains an infinite loop), your system will be stuck. One workaround would be to use the concept of domains in seL4 but unfortunately, it does not seem that CAmkES exports it to the user. Also, the system does not &lt;em&gt;enforce&lt;/em&gt; any timing budget. The NICTA team is working on some real-time extensions that might provide such services.&lt;/p&gt;

&lt;p&gt;Note: You might find some error/bugs in the code, this is mostly done for educational purposes. If you find any issue/bug, do not hesitate to contact me.&lt;/p&gt;

</description>
        <pubDate>Mon, 18 Apr 2016 09:13:20 -0400</pubDate>
        <link>http://julien.gunnm.org/geek/sel4/2016/04/18/periodic-tasks-with-sel4/</link>
        <guid isPermaLink="true">http://julien.gunnm.org/geek/sel4/2016/04/18/periodic-tasks-with-sel4/</guid>
        
        <category>sel4</category>
        
        <category>real-time</category>
        
        <category>CAmkES</category>
        
        
        <category>geek</category>
        
        <category>sel4</category>
        
      </item>
    
      <item>
        <title>BeagleBoard Black (BBB) and GPIO</title>
        <description>&lt;p&gt;When you buy a &lt;a href=&quot;http://beagleboard.org/black&quot;&gt;Beagleboard Black&lt;/a&gt; (a.k.a. BBB), it comes with a pre-installed version of debian with more or less everything you need to get started. I purchased the board for another purpose and develop seL4 components on top of it. But before starting to develop on seL4, it is useful to know exactly how the board works: once you know how the board works, you can start to write your code and know for sure that the bug comes from your code.&lt;/p&gt;
&lt;p&gt;In this article, I will explain quickly how to set up a simple circuit to test the GPIO of the beaglebone.&lt;/p&gt;


&lt;img class=&quot;  wp-image-2231 aligncenter&quot; src=&quot;/assets/cape-headers-digital.png&quot; alt=&quot;cape-headers-digital.png&quot; width=&quot;300&quot; height=&quot;225&quot; /&gt;

&lt;p&gt;Mapping between pin numbers and GPIO ID from&lt;a href=&quot;http://beagleboard.org/support/bone101&quot;&gt; bone 101&lt;/a&gt;
&lt;/p&gt;

&lt;h1&gt;Setting up the circuit&lt;/h1&gt;
&lt;p&gt;To test the circuit, you need only a breadboard, a resistance and a LED. Simple.&lt;/p&gt;
&lt;p&gt;Connect the PIN 14 (which is mapped to GPIO id 50, see table) from bank P9 (green cable on the picture) on the breadboard. Connect it to a resistance and a LED. The other pin of the LED is then connected to the ground (last PIN of P9).&lt;/p&gt;

&lt;img class=&quot;  wp-image-2224 aligncenter&quot; src=&quot;/assets/board.jpg&quot; alt=&quot;board&quot; width=&quot;460&quot; height=&quot;345&quot; /&gt;
&lt;p&gt;Wiring scheme of the example&lt;/p&gt;


&lt;h1&gt;Controlling the GPIO in Linux&lt;/h1&gt;
&lt;p&gt;In Linux, the GPIO can be controlled using the SysFS abstraction layer. You can access it through&lt;em&gt; /sys/class/gpio. &lt;/em&gt;I am using the pre-installed debian software on the board.&lt;/p&gt;
&lt;p&gt;To control a particular pin, you must export it. You do it by writing the value of the pin you want to export into &lt;em&gt;/sys/class/gpio/export&lt;/em&gt;. Then, a new directory is &lt;em&gt;/sys/class/gpio/gpio&amp;lt;PIN-NUMBER&amp;gt;&lt;/em&gt; is created with many different files to control the pin (direction, value, etc.).&lt;/p&gt;
&lt;p&gt;In our example, the &lt;strong&gt;pin 14 from the bank P9&lt;/strong&gt; correspond to &lt;strong&gt;GPIO 50&lt;/strong&gt;. You can see the corresponding mapping between the pin and GPIO number in the &lt;a href=&quot;http://beagleboard.org/support/bone101&quot;&gt;beaglebone 101 &lt;/a&gt;document.&lt;/p&gt;
&lt;p&gt;So, let&#39;s start by exporting this pin:&lt;/p&gt;
&lt;pre&gt;echo 50 &amp;gt; /sys/class/gpio/export&lt;/pre&gt;
&lt;p&gt;Then, a new directory /sys/class/gpio/gpio50 is created.&lt;/p&gt;
&lt;p&gt;Let&#39;s set its direction to out&lt;/p&gt;
&lt;pre&gt;echo out &amp;gt; /sys/class/gpio/gpio50/direction&lt;/pre&gt;
&lt;p&gt;And let&#39;s set its value to 1&lt;/p&gt;
&lt;pre&gt;echo 1 &amp;gt; /sys/class/gpio/gpio50/value&lt;/pre&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;And finally, if you want to make the LED blinks every second, you can use this command:&lt;/p&gt;
&lt;pre&gt;while [ 1 ]; do echo 1 &amp;gt; /sys/class/gpio/gpio50/value ; sleep 1 ; echo 0 &amp;gt; /sys/class/gpio/gpio50/value ; sleep 1 ; done&lt;/pre&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;https://www.youtube.com/watch?v=k-g114EUXaE&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;h1&gt;Sources&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;How to use GPIO as outputs &lt;a href=&quot;http://www.dummies.com/how-to/content/setting-beaglebone-gpios-as-outputs.html&quot;&gt;http://www.dummies.com/how-to/content/setting-beaglebone-gpios-as-outputs.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;GPIO programming on the beaglebone: &lt;a href=&quot;http://elinux.org/images/3/33/GPIO_Programming_on_the_Beaglebone.pdf&quot;&gt;http://elinux.org/images/3/33/GPIO_Programming_on_the_Beaglebone.pdf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;BeagleBone 101: &lt;a href=&quot;http://beagleboard.org/support/bone101&quot;&gt;http://beagleboard.org/support/bone101&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sun, 21 Feb 2016 14:34:43 -0500</pubDate>
        <link>http://julien.gunnm.org/geek/misc/programming/2016/02/21/beagleboard-black-bbb-and-gpio/</link>
        <guid isPermaLink="true">http://julien.gunnm.org/geek/misc/programming/2016/02/21/beagleboard-black-bbb-and-gpio/</guid>
        
        
        <category>geek</category>
        
        <category>misc</category>
        
        <category>programming</category>
        
      </item>
    
      <item>
        <title>Paris Charles de Gaulle Airport: a metaphor of the evolution of France</title>
        <description>&lt;p&gt;As a researcher working with an international standard committee, publishing papers and attending international conferences, I travel a lot. I often visit Europe, and, coming from the USA, the Paris Charles de Gaulle (CDG) airport is where I take most of my connecting flights. Last, as a french-native, I sometimes come back in the country to visit my family and then, land at this airport.&lt;/p&gt;

&lt;img class=&quot;  wp-image-2106 aligncenter&quot; src=&quot;/assets/cdgdropoff.jpg&quot; alt=&quot;cdgdropoff&quot; width=&quot;339&quot; height=&quot;452&quot; /&gt;
&lt;p&gt;The way to the passenger drop-off. You have big baggages? Be ready for a nice workout and work on your arms!&lt;/p&gt;

&lt;p&gt;As a french citizen and having lived in this country for more than 27 years, I am ashamed of this airport. It does not make justice to this country and its capital, which deserve better than that. This airport reproduces everything you can hate about france.&lt;/p&gt;
&lt;p&gt;I regularly took this airport since 2008. I tried to provide feedback, I thought that it might help the airport to improve itself. This airport is also rated as one of the worst in Europe (see &lt;a href=&quot;http://travel.cnn.com/explorations/life/10-most-hated-airports-324645/&quot;&gt;here on CNN &lt;/a&gt;or here on &lt;a href=&quot;http://www.offtoeurope.com/europes-best-and-worst-airports/&quot;&gt;offeurope&lt;/a&gt; or here ). So, with this in mind and also with regularly feedback from its users (I hope I was not the same to send feedback), I was hoping progress would have happened over the last years. But after 8 more years, all what I see is just an airport that is a real mess, where passengers get lost, transiting from two gates within the same terminal can take more than 30 minutes and does not even provide basic services such an airport deserves. This is what you want to show to the visitors of the most visited capital in the world? Probably not.&lt;/p&gt;
&lt;p&gt;For example, let&#39;s see at some of the reasons the airport is so bad:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;accessibility between terminals&lt;/strong&gt;: terminals are a mess and for some terminals, you need to take a bus to move within the terminal. But not for all terminals! It can take up to 30 to 45 minutes to navigate within the same terminal. So, if you have to switch terminals, at least one hour is a reasonable bet&lt;/li&gt;
&lt;li&gt;a&lt;strong&gt;ccessibility within the airport&lt;/strong&gt;: stairs and lift are very very narrow and disabled people might have a hard time moving. Like everything in france, everything is narrow and small (french have this tendency to associate &quot;petit&quot; with all the words). Unfortunately, tourists coming for 2 weeks have big baggages. So, using the stairs is just a mess and most of the times, this is just a pain to carry your baggage. Also, when you arrive at some terminal, you have to use stairs and there are only small lift if you have heavy baggage or if you are disabled. Welcome in france, the country where we welcome everybody, especially the people in good health and will not stay too long!&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;accessibility of restrooms&lt;/strong&gt;: there are very limited, their maintenance is terrible so that you might not even use them. Most of them no longer have soap and dryer are not working. I understand no why my US friends think french people do not clean themselves&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;lack of information of baggage claims&lt;/strong&gt;: when you exit your flights, signs for baggage claims and information about where to find your baggage are hidden and not available. On my last flight, I found my baggage on a random ramp. Sure, there was a screen to give information but there was nothing on the screen itself. Ah, the pleasure to find your own baggage at 9pm!&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;lack of information at border controls&lt;/strong&gt;: recently, during a connection, I got stuck in a corridor because of ID control. While I understand the airport has no control on the requirements of french authorities, it could at least provide accurate information to passengers. Instead of waiting 30 minutes while connecting flights in a corridor without giving any information, I would expect to wait in a big hall/room where the ID control takes places (what you have in most US airport) and where people can seat, go to the restroom or have access to water (if there was any water fountain). But as the room dedicated to ID check is as big as the stairs (remember, in france, everything is small), there is no space and so, people wait in line in a corridor and just wondering what is going on. This is probably a way to show to our tourists how dedicated we are to them.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;wireless&lt;/strong&gt;: the wireless requires to authenticate, give your name, e-mail, nationality, etc so that they can trace you and send you obnoxious ads. Fine. But you have to authenticate every time you move and your device connects to a new access point. So, you land: you have to authenticate. You try to access again when moving: you have to authenticate again every minute. You arrive at your gate: authenticate again. I think this is a way to promote the Minitel, a french thing that was supposed to beat the internet. Seriously, this shows the incompetence of the airport to provide a reasonably sized and user-friendly wireless network.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;availability of water fountains&lt;/strong&gt;: most airports now provide water fountains. This is important for an economic and ecological perspectives: why do you want to buy plastic bottles if you carry your own? And why paying for water, this is not a common good, especially when the Mayor of Paris previously declared the tap water was as good as bottled water? While there are plenty of water fountains in other airports (probably one next to every restroom in the USA), I found one or two in the whole airport. No kidding. I tried to reach out on twitter about this issue, the airport staff told me they can give me a map of the water fountains. So, just to make sure: every tourist that want water would need to contact the airport to find a water fountain! Please do not be too thirsty and take enough time: if you have to go to another gate, it might take more than 30 minutes to fill your bottle and so, more than one hour to come back to your gate. France is definitively a leader in the green economy!&lt;/li&gt;
&lt;/ul&gt;

&lt;img class=&quot;  wp-image-2111 aligncenter&quot; src=&quot;/assets/cdgbus.jpg&quot; alt=&quot;cdgbus.jpg&quot; width=&quot;503&quot; height=&quot;377&quot; /&gt; &lt;p&gt;Taking the terminal E2? This is the bus map with all the drops. Ask an attendant at the airport, some are not aware there is a bus!&lt;/p&gt;

&lt;p&gt;These are just some issues I recurrently experienced as a user of the airport. I am ashamed to know that tourists arrive to this country by such a airport. It should be a convenient, pleasant and useful place that welcomes and helps you when you arrive. It should be easy to use and navigate and go to the city (and I did not even talk about transportation to the city which is also a real shame). Not the actual mess we see every day and that &lt;a href=&quot;http://travel.cnn.com/explorations/life/10-most-hated-airports-324645/&quot;&gt;people actually hates&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I do not understand why the company that manages the airport made this mess. The airport is not too old and I do not understand why there are so many accessibility issues (people using the terminal 2F can probably testify about the restroom accessibility). This is the hub of the most visited capital, so, having a good airport is a strategic investment. Other European cities develop very nice airports (particularly &lt;a href=&quot;http://www.offtoeurope.com/europes-best-and-worst-airports/&quot;&gt;Amsterdam with Schiphol&lt;/a&gt;, very convenient), which proves making a big HUB with a lot of tourist transits is possible.&lt;/p&gt;
&lt;p&gt;What astonished me is that the evolution of this airport sounds exactly as the evolution of this country. We changed the appearance, it looks nice from the outside (there are a lot of fancy shop in the airport, you can buy all the bullshit stuff that makes france famous) but they did not invest in the fundamentals: moving, getting around, services, connecting and having information. This is also the general feeling I have when I see this country: a strong focus on trying to work on the unnecessary cosmetics details whereas the fundamentals are still being neglected. Beyond these issues is the denial of the people: when you tell people that the airport have issues, they reply to you that there are no issue and that you are doing things wrong. They are telling you that the airport is not the problem and that you are the problem. Unfortunately and currently, facts and numbers showed the reality: the airport is considered as one of the worst in the world and it seems that france is definitively a sinking ship people are trying to escape.&lt;/p&gt;
&lt;p&gt;Sad.&lt;/p&gt;
</description>
        <pubDate>Mon, 01 Feb 2016 09:01:02 -0500</pubDate>
        <link>http://julien.gunnm.org/frenchy%20stuff/misc/2016/02/01/paris-charles-de-gaulle-airport-a-metaphor-of-the-evolution-of-france/</link>
        <guid isPermaLink="true">http://julien.gunnm.org/frenchy%20stuff/misc/2016/02/01/paris-charles-de-gaulle-airport-a-metaphor-of-the-evolution-of-france/</guid>
        
        
        <category>frenchy stuff</category>
        
        <category>misc</category>
        
      </item>
    
      <item>
        <title>Let&#39;s stop charity, let&#39;s give a basic income</title>
        <description>&lt;p&gt;Recently, the &lt;a href=&quot;https://thebillfold.com/dutch-city-of-utrecht-announces-basic-income-experiment-f31954a995ec#.lniq1cto1&quot;&gt;city of Utrecht initiated a new idea&lt;/a&gt;: everybody gets a basic, minimal income, no matter their social situation (working/non-working) or their initial income. What you earn comes on top of that.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.independent.org/publications/tir/article.asp?a=1044&quot;&gt;The idea has been around for a while&lt;/a&gt;. The principles behind it are pretty simple: &lt;em&gt;equality&lt;/em&gt;. You get a basic income so that you can live in this world and afford the basic, necessary things. After that, if you want something beyond what is strictly necessary, you have to work or find a way to get more money. In other words, we do not let people die in the streets but this is their own choice to decide if they want to do more. Want to have kids? Do not rely on the welfare system, get a job and make sure you can afford education, food and housing. Want to buy a nice house? Do not rely on the welfare system and start saving &lt;em&gt;now&lt;/em&gt;. On the other hand, when hard times hit you, you still have something so that you are not dying in the streets.&lt;/p&gt;
&lt;p&gt;If you argue this is giving charity and getting people lazy, you are doing a mistake. With a basic income at 900€ in the Netherlands, you can afford nothing but very basic things (see &lt;a href=&quot;http://www.studyinholland.co.uk/cost_of_living.html&quot;&gt;this estimate for a monthly budget for a student ...&lt;/a&gt;). With that, you will live alone in a one bedroom apartment in the country side, cannot have a car and will just be able to eat and stay at home. Going out is very unlikely and the only restaurant you might be able to afford would be McDonalds. So, really nothing fancy but at least, it can help you when you are unemployed for few months.&lt;/p&gt;
&lt;p&gt;Opponents to this idea argue that the basic would cost a lot. But considering how much it costs to give and manage the welfare system, the city of Utrecht has shown that it is in fact, it would be cheaper than maintaining the existing system.Looking at the numbers reported by &lt;a href=&quot;http://www.theguardian.com/world/2015/dec/26/dutch-city-utrecht-basic-income-uk-greens&quot;&gt;the guardian&lt;/a&gt;: the city of &lt;a href=&quot;https://en.wikipedia.org/wiki/Nijmegen&quot;&gt;Nijmegen&lt;/a&gt; gives £88m but it costs about £15m to just manage the welfare system. With that cost in mind, can we consider this system efficient? Giving a basic income would reduce the welfare management while ensuring a basic, simple and fair rule for everybody: no matter where you live, who you are, you have a basic income.&lt;/p&gt;
&lt;p&gt;But beyond the debate about giving charity to everybody, this idea of a minimal wage highlight some questions we need to address as a society. The employment landscape changed a lot over the last years: we no longer work in the same company all our life, there will be always some unemployment periods, you might take a break at some point. The required skills of the workforce also changed and people needs to train, to adapt. We no longer have the same work all our life, and, as we live longer, we can expect changes. And more simply, there might not be enough work for everybody and unemployment might be something we cannot avoid. So do we really &lt;em&gt;need&lt;/em&gt; to work every day of our life? If not, how can we still offer a decent way to live for everybody in this world?&lt;/p&gt;
&lt;p&gt;So, when looking at what happened over the last years and what is coming (more automation, no need to be physically in a company, etc.) is it necessary to maintain the current welfare system, especially considering its overhead and limitations? How can we make sure everybody can live decently and afford the basics? The idea of a basic income might be a good solution, more efficient and fair than what the patches introduced by what seems to be an outdated welfare system.&lt;/p&gt;
</description>
        <pubDate>Thu, 31 Dec 2015 09:44:11 -0500</pubDate>
        <link>http://julien.gunnm.org/misc/2015/12/31/stop-charity-give-minimal-income/</link>
        <guid isPermaLink="true">http://julien.gunnm.org/misc/2015/12/31/stop-charity-give-minimal-income/</guid>
        
        <category>basic income</category>
        
        <category>economics</category>
        
        <category>welfare</category>
        
        
        <category>misc</category>
        
      </item>
    
      <item>
        <title>It is an architecture problem</title>
        <description>&lt;p&gt;The big news today (that got my attention!) is the Washington post about &lt;a href=&quot;http://www.washingtonpost.com/sf/business/2015/11/05/net-of-insecurity-the-kernel-of-the-argument/&quot;&gt;Linus&#39; thoughts on security, especially in the linux kernel&lt;/a&gt;.You probably do not know but today, Linux is one of the most used kernel in the world. Every Android device rely on it - most of non-critical embedded devices use it. You are probably not aware of it but you are probably using more Linux-powered devices than Windows or Mac.&lt;/p&gt;
&lt;p&gt;The article is well written and explain most of the issues to a non-technical people. Great. But sometimes, it messes things up. For example, when the article reports that the &lt;a href=&quot;https://en.wikipedia.org/wiki/Ashley_Madison_data_breach&quot;&gt;ashley madison data breach&lt;/a&gt;, it is totally unrelated: the article focuses on the kernel, not the userspace. This is just not accurate to connect this attack with the linux kernel, it could happen with the same software running on a different kernel.&lt;/p&gt;
&lt;p&gt;What users must understand is that security comes at a cost and while this is an important requirement for us, this is not the most critical and people do not pay attention to it until a big attack appears. Achieving high security impact other requirements and characteristics, such as performance. At the end, the question is: are you willing to have your system running slower to protect yourself against a potential security attack against your contact list that has not been discovered yet and would be fixed as soon as it is discovered?&lt;/p&gt;
&lt;p style=&quot;text-align:center;&quot;&gt;A&lt;em&gt;re you willing to pay the cost of security without affecting other attributes?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;It totally depends on your objective and priorities: if your system is a smartphone, you probably do not care because once discovered, the attack will be fixed and your phone will be automatically upgraded. But if you design a nuclear power plant, there is no room for a second chance, millions of people are already dead. So, you do not want that to happen at &lt;em&gt;any&lt;/em&gt; cost.&lt;/p&gt;
&lt;p&gt;Linus made a good point on that as well: if you are running a safety-critical system, you just do not use Linux. If you are concerned about the security of Linux, solutions exists (e.g. &lt;a href=&quot;https://en.wikipedia.org/wiki/Security-Enhanced_Linux&quot;&gt;selinux&lt;/a&gt;, &lt;a href=&quot;https://grsecurity.net/&quot;&gt;grsecurity&lt;/a&gt;). And if tomorrow the kernel needs more security, the community will work the existing kernel and add the necessary layers - this is just that it has not been the focus so far or has been done through individual efforts. But at the end, if you really want to isolate software according to their criticality, this is no longer a matter of code but an architecture concern: you have to design your system and isolate components according to their security levels. Many existing approaches address that issue (for example, &lt;a href=&quot;https://en.wikipedia.org/wiki/Multiple_Independent_Levels_of_Security&quot;&gt;MILS&lt;/a&gt;) and there are many solutions to such design: gatekeepers (filtering insecure data before they are forwarded to the secure components), physical or logical separation, etc.&lt;/p&gt;
&lt;p&gt;This is also what has been shown by the &lt;a href=&quot;http://www.wired.com/2015/07/hackers-remotely-kill-jeep-highway/&quot;&gt;attack on the Jeep&lt;/a&gt; by &lt;a href=&quot;https://www.youtube.com/watch?v=OobLb1McxnI&quot;&gt;Miller and Valasek&lt;/a&gt;: the entertainment system is connect to several networks connecting critical and non-critical devices without any filtering. By attacking the entertainment system, attackers were able to control a car from their couch. Great. Some will argue this is a software issue but I am still convinced this is an architecture issue: the entertainment system should not be connected to critical equipment without any filtering or protection mechanism.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.washingtonpost.com/sf/business/2015/11/05/net-of-insecurity-the-kernel-of-the-argument/&quot;&gt;The Washington post article&lt;/a&gt; is interesting but the whole discussion on the Linux kernel is just too much. Rather than putting the fault of an insecure Internet on linux developers, it would rather be more interesting to understand the real architecture defects of the network. And why people choose such insecure software: if Linux is so bad, why is it still soused? There are still many open questions but this article demonstrates how cybersecurity is not understood and addressed today, in our now over-connected world.&lt;/p&gt;
</description>
        <pubDate>Fri, 06 Nov 2015 16:04:45 -0500</pubDate>
        <link>http://julien.gunnm.org/geek/programming/2015/11/06/it-is-an-architecture-problem/</link>
        <guid isPermaLink="true">http://julien.gunnm.org/geek/programming/2015/11/06/it-is-an-architecture-problem/</guid>
        
        <category>architecture</category>
        
        <category>grsecurity</category>
        
        <category>linux</category>
        
        <category>mils</category>
        
        <category>security</category>
        
        <category>selinux</category>
        
        
        <category>geek</category>
        
        <category>programming</category>
        
      </item>
    
      <item>
        <title>Change takes time</title>
        <description>&lt;p&gt;When multi-core processors were released in the mid-2000s, developers had to face a new programming paradigm: multi-threading. For sure, &lt;a href=&quot;https://en.wikipedia.org/wiki/Symmetric_multiprocessing&quot;&gt;SMP&lt;/a&gt; (&lt;a href=&quot;https://en.wikipedia.org/wiki/Symmetric_multiprocessing&quot;&gt;Symmetric Multiprocessing&lt;/a&gt;) was already there since years but such machines were dedicated to particular applications.&lt;/p&gt;
&lt;p&gt;This new processor design had some side effects: since applications were no longer executed on a single processor and developers had to synchronize shared data and avoid what we call &lt;a href=&quot;https://en.wikipedia.org/wiki/Race_condition&quot;&gt;race condition&lt;/a&gt;. Interestingly,  most of the time, a race condition will crash the application. When multi-core processors were introduced, many popular applications had such issues (see this &lt;a href=&quot;https://discussions.apple.com/thread/247969?start=0&amp;amp;tstart=0&quot;&gt;discussion for iTunes&lt;/a&gt;) - mostly because developers did not design an application with synchronization constraints in mind. Of course, now, this design constraints is understood by most developers.&lt;/p&gt;
&lt;p&gt;During a current project, I am investigating the common software vulnerabilities/weaknesses and their evolution over time. Among the most popular, the &quot;race condition&quot; issue. There is the picture.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://juli1pb.files.wordpress.com/2015/11/race-condition.png&quot;&gt;&lt;img class=&quot;wp-image-1880 size-large&quot; src=&quot;/assets/race-condition.png?w=660&quot; alt=&quot;number of issues related to synchronization issues&quot; width=&quot;660&quot; height=&quot;460&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If we look closely, there was very few reports until multi-core were introduced. It continues to increase until 2012 (why it decreases in 2011 is still unknown) and then start to decrease. Interestingly, there are still a lot of issues related to synchronization today.&lt;/p&gt;
&lt;p&gt;The take away from this data? Change takes time. A. Lot. It took almost 10 years for software developers to address the matter and stop writing buggy code. And there are still a lot of reported issues. Developers had to take this new constraint into account while they were not familiar with this paradigm. Teachers had to explain this issue and address the matters in class.&lt;/p&gt;
&lt;p&gt;Change takes time and it is very difficult to predict the impact of a change - I assume nobody assumed that it would take so long for the industry to adapt to this new constraint.&lt;/p&gt;
</description>
        <pubDate>Sun, 01 Nov 2015 19:21:20 -0500</pubDate>
        <link>http://julien.gunnm.org/geek/programming/2015/11/01/change-takes-time/</link>
        <guid isPermaLink="true">http://julien.gunnm.org/geek/programming/2015/11/01/change-takes-time/</guid>
        
        <category>cve</category>
        
        <category>cwe</category>
        
        <category>race condition</category>
        
        
        <category>geek</category>
        
        <category>programming</category>
        
      </item>
    
      <item>
        <title>High Five</title>
        <description>&lt;p&gt;&lt;a href=&quot;http://www.momentumphotography.net/&quot;&gt;Lance&lt;/a&gt;, the photographer that comes at the races from &lt;a href=&quot;http://www.alleghenytrailrunners.com/&quot;&gt;Allegheny Trailrunner&lt;/a&gt;, sent me my pictures from &lt;a href=&quot;http://julien.gunnm.org/2015/09/16/breaking-news-allegheny-trailrunners-tm-has-been-acquired-by-tough-mudder-tm-rockn-the-knob-2015-race-report/&quot;&gt;Rock The Knob&lt;/a&gt;. I am not a fan of race picture but found this one particularly funny and captured a great time, just before eating some hills.&lt;/p&gt;
&lt;p&gt;Lance take the pictures and post them for free. If you like what he is doing, consider a donation - having great picture for free is amazing, making a small donation on a voluntary basis is better than the usual rip-off of company such a marathonfoto.&lt;/p&gt;
&lt;p&gt;Thanks again to &lt;a href=&quot;http://www.momentumphotography.net/&quot;&gt;Lance&lt;/a&gt; for capturing such a moment.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://juli1pb.files.wordpress.com/2015/09/juliandelangertk2015-9.jpg&quot;&gt;&lt;img class=&quot;aligncenter size-large wp-image-1816&quot; src=&quot;/assets/juliandelangertk2015-9.jpg?w=683&quot; alt=&quot;JulianDelangeRTK2015-9&quot; width=&quot;683&quot; height=&quot;1024&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Fri, 25 Sep 2015 00:26:46 -0400</pubDate>
        <link>http://julien.gunnm.org/misc/running/2015/09/25/high-five/</link>
        <guid isPermaLink="true">http://julien.gunnm.org/misc/running/2015/09/25/high-five/</guid>
        
        <category>Allegheny Trailrunners</category>
        
        <category>rock the knobb</category>
        
        <category>running</category>
        
        
        <category>misc</category>
        
        <category>running</category>
        
      </item>
    
      <item>
        <title>How to get geocoding information in Java without Google maps API?</title>
        <description>&lt;p&gt;For some project, you might want to use geocoding information, which means get the GPS coordinates from an address. If you want to use Google services, you are limited to a certain number of requests but your usage is connected with your account. There is a nice geocoding API available but&lt;/p&gt;
&lt;p&gt;You might want to have as many requests as you want but also avoid Google to look at your applications are doing. After all, these requests are sent by the users of your own application, not you.&lt;/p&gt;
&lt;p&gt;So, yes, sure, there is a nice &lt;a href=&quot;https://developers.google.com/maps/documentation/geocoding/intro&quot;&gt;geocoding API available with Google&lt;/a&gt;. But it seems to be restricted/limited. So, let&#39;s not use it. The alternative is to use the open website &lt;a href=&quot;http://www.openstreetmap.org&quot;&gt;OpenStreetMap&lt;/a&gt; (a.k.a. OSM), which has a webservice to &lt;a href=&quot;http://wiki.openstreetmap.org/wiki/Nominatim&quot;&gt;get geocoding information&lt;/a&gt;. It does not provide a full Java API but rather the data in a JSON or XML fornat. So, all we have to do is to write a Java API what issue requests to the webservice and retrieve the geocoding information from the JSON/XML.&lt;/p&gt;
&lt;p&gt;I chose to get the information with the JSON format, this is pretty easy to use. To parse the JSON data from the service, I use &lt;a href=&quot;https://code.google.com/p/json-simple/&quot;&gt;json-simple&lt;/a&gt; available on maven.&lt;/p&gt;
&lt;h1&gt;Getting the geocoding data&lt;/h1&gt;
&lt;p&gt;Basically, the code issue a request to the geocoding webservice from OpenStreetMap, get the result and convert it into a JSON object. It then get the latitude/longitude information from the JSONObject.&lt;/p&gt;
&lt;pre&gt;import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;
import java.util.HashMap;
import java.util.Map;

import org.apache.log4j.Logger;
import org.json.simple.JSONArray;
import org.json.simple.JSONObject;
import org.json.simple.JSONValue;
import org.json.simple.parser.JSONParser;

public class OpenStreetMapUtils {

    public final static Logger log = Logger.getLogger(&quot;OpenStreeMapUtils&quot;);

    private static OpenStreetMapUtils instance = null;
    private JSONParser jsonParser;

    public OpenStreetMapUtils() {
        jsonParser = new JSONParser();
    }

    public static OpenStreetMapUtils getInstance() {
        if (instance == null) {
            instance = new OpenStreetMapUtils();
        }
        return instance;
    }

    private String getRequest(String url) throws Exception {

        final URL obj = new URL(url);
        final HttpURLConnection con = (HttpURLConnection) obj.openConnection();

        con.setRequestMethod(&quot;GET&quot;);

        if (con.getResponseCode() != 200) {
            return null;
        }

        BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));
        String inputLine;
        StringBuffer response = new StringBuffer();

        while ((inputLine = in.readLine()) != null) {
            response.append(inputLine);
        }
        in.close();

        return response.toString();
    }

    public Map&amp;lt;String, Double&amp;gt; getCoordinates(String address) {
        Map&amp;lt;String, Double&amp;gt; res;
        StringBuffer query;
        String[] split = address.split(&quot; &quot;);
        String queryResult = null;

        query = new StringBuffer();
        res = new HashMap&amp;lt;String, Double&amp;gt;();

        query.append(&quot;http://nominatim.openstreetmap.org/search?q=&quot;);

        if (split.length == 0) {
            return null;
        }

        for (int i = 0; i &amp;lt; split.length; i++) {
            query.append(split[i]);
            if (i &amp;lt; (split.length - 1)) {
                query.append(&quot;+&quot;);
            }
        }
        query.append(&quot;&amp;amp;format=json&amp;amp;addressdetails=1&quot;);

        log.debug(&quot;Query:&quot; + query);

        try {
            queryResult = getRequest(query.toString());
        } catch (Exception e) {
            log.error(&quot;Error when trying to get data with the following query &quot; + query);
        }

        if (queryResult == null) {
            return null;
        }

        Object obj = JSONValue.parse(queryResult);
        log.debug(&quot;obj=&quot; + obj);

        if (obj instanceof JSONArray) {
            JSONArray array = (JSONArray) obj;
            if (array.size() &amp;gt; 0) {
                JSONObject jsonObject = (JSONObject) array.get(0);

                String lon = (String) jsonObject.get(&quot;lon&quot;);
                String lat = (String) jsonObject.get(&quot;lat&quot;);
                log.debug(&quot;lon=&quot; + lon);
                log.debug(&quot;lat=&quot; + lat);
                res.put(&quot;lon&quot;, Double.parseDouble(lon));
                res.put(&quot;lat&quot;, Double.parseDouble(lat));

            }
        }

        return res;
    }
}


&lt;/pre&gt;
&lt;h1&gt;Testing the service&lt;/h1&gt;
&lt;p&gt;Then, to use the service, you can just use a main program like the following code.&lt;/p&gt;
&lt;pre&gt;public class GetCoordinates {

    static String address = &quot;The White House, Washington DC&quot;;

    public static void main(String[] args) {
        Map&amp;lt;String, Double&amp;gt; coords;
        coords = OpenStreetMapUtils.getInstance().getCoordinates(address);
        System.out.println(&quot;latitude :&quot; + coords.get(&quot;lat&quot;));
        System.out.println(&quot;longitude:&quot; + coords.get(&quot;lon&quot;));
    }
}&lt;/pre&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;h1&gt;Checking&lt;/h1&gt;
&lt;p&gt;When running the previous example, the program prints the following information:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;latitude&lt;/strong&gt; :38.8976989&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;longitude&lt;/strong&gt;:-77.036553192281&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let&#39;s then check where are these coordinates! When putting the coordinates on Google Maps, I then got the following map. Sounds like it works!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://juli1pb.files.wordpress.com/2015/09/coordinates.png&quot;&gt;&lt;img class=&quot;aligncenter size-large wp-image-1772&quot; src=&quot;/assets/coordinates.png?w=676&quot; alt=&quot;coordinates&quot; width=&quot;676&quot; height=&quot;416&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Sun, 13 Sep 2015 17:46:15 -0400</pubDate>
        <link>http://julien.gunnm.org/geek/programming/2015/09/13/how-to-get-geocoding-information-in-java-without-google-maps-api/</link>
        <guid isPermaLink="true">http://julien.gunnm.org/geek/programming/2015/09/13/how-to-get-geocoding-information-in-java-without-google-maps-api/</guid>
        
        <category>api</category>
        
        <category>google maps</category>
        
        <category>java</category>
        
        <category>openstreet map</category>
        
        <category>OSM</category>
        
        
        <category>geek</category>
        
        <category>programming</category>
        
      </item>
    
      <item>
        <title>What is wrong with our GPS data?</title>
        <description>&lt;p&gt;Recently, I have been surprised by the differences between the distance reported by my GPS watch (a &lt;a href=&quot;https://buy.garmin.com/en-US/US/on-the-trail/wrist-worn/fenix-2/prod159116.html&quot;&gt;Garmin Fenix 2&lt;/a&gt;) and what is reported when importing the data into website such as &lt;a href=&quot;http://www.mapmyrun.com/&quot;&gt;Mapmyrun&lt;/a&gt; or &lt;a href=&quot;https://www.strava.com&quot;&gt;Strava&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;[caption id=&quot;attachment_1766&quot; align=&quot;aligncenter&quot; width=&quot;676&quot;]&lt;a href=&quot;https://juli1pb.files.wordpress.com/2015/09/garmin.png&quot;&gt;&lt;img class=&quot;size-large wp-image-1766&quot; src=&quot;/assets/garmin.png?w=676&quot; alt=&quot;Data from Garmin Connect&quot; width=&quot;676&quot; height=&quot;322&quot; /&gt;&lt;/a&gt; Data from Garmin Connect[/caption]&lt;/p&gt;
&lt;p&gt;It happened this week-end at Rock&#39;n The Knob, a 20 miles run on trails. I went off course, making an additional 1.5-ish mile. At the end of the run, &lt;a href=&quot;https://connect.garmin.com/activity/896378529&quot;&gt;my watch reported 21.27 miles&lt;/a&gt;, which made sense (20 miles for the race plus an additional mile or so for being off course). On the other hand, both &lt;a href=&quot;http://www.mapmyrun.com/workout/1165115349&quot;&gt;mapmyrun&lt;/a&gt; and &lt;a href=&quot;https://www.strava.com/activities/390754403&quot;&gt;strava&lt;/a&gt; report 18.9 miles.&lt;/p&gt;
&lt;p&gt;[caption id=&quot;attachment_1767&quot; align=&quot;aligncenter&quot; width=&quot;615&quot;]&lt;a href=&quot;https://juli1pb.files.wordpress.com/2015/09/mapmyrun.png&quot;&gt;&lt;img class=&quot;size-full wp-image-1767&quot; src=&quot;/assets/mapmyrun.png&quot; alt=&quot;Same GPS file imported on mapmyrun&quot; width=&quot;615&quot; height=&quot;148&quot; /&gt;&lt;/a&gt; Same GPS file imported on mapmyrun[/caption]&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p style=&quot;text-align:center;&quot;&gt;&lt;strong&gt;So, who can you trust?&lt;/strong&gt;&lt;/p&gt;
&lt;p style=&quot;text-align:left;&quot;&gt;I tried to look at the strava website to see if they modify the GPS data. I found &lt;a href=&quot;https://strava.zendesk.com/entries/21629956-Why-is-Strava-showing-different-times-than-my-Garmin-&quot;&gt;the following discussion&lt;/a&gt; and the &lt;a href=&quot;https://strava.zendesk.com/entries/21278088-How-Distance-is-Calculated&quot;&gt;technical support note&lt;/a&gt; to be interesting. It seems that website are doing some post-upload processing that mostly change the data you import and try to remove any &lt;em&gt;bad&lt;/em&gt; GPS data. On the other hand, considering the race I did, it seems that this post-upload processing removes a lot of data, about 11%.&lt;/p&gt;
&lt;p&gt;[caption id=&quot;attachment_1768&quot; align=&quot;aligncenter&quot; width=&quot;676&quot;]&lt;a href=&quot;https://juli1pb.files.wordpress.com/2015/09/strava.png&quot;&gt;&lt;img class=&quot;size-large wp-image-1768&quot; src=&quot;/assets/strava.png?w=676&quot; alt=&quot;Same GPS file on Strava&quot; width=&quot;676&quot; height=&quot;159&quot; /&gt;&lt;/a&gt; Same GPS file on Strava[/caption]&lt;/p&gt;
&lt;p style=&quot;text-align:left;&quot;&gt;Many folks lately asked what is the most accurate data source between a watch and a phone. It turns out that this is not only the source of the data but also &lt;em&gt;where&lt;/em&gt; you put the data and &lt;em&gt;how&lt;/em&gt; it is processed. I am not a GPS specialist and strava or mapmyrun will not publish their own algorithms but for now, I rather trust my watch: so far, it has been consistent with other data sources (signs on the road, watches from other brands, etc.).&lt;/p&gt;
</description>
        <pubDate>Sun, 13 Sep 2015 16:31:16 -0400</pubDate>
        <link>http://julien.gunnm.org/fitness/geek/running/2015/09/13/what-is-wrong-with-our-gps-data/</link>
        <guid isPermaLink="true">http://julien.gunnm.org/fitness/geek/running/2015/09/13/what-is-wrong-with-our-gps-data/</guid>
        
        <category>difference between gps and mapmyrun</category>
        
        <category>difference between gps and strava</category>
        
        <category>gps</category>
        
        <category>mapmyrun</category>
        
        <category>strava</category>
        
        
        <category>fitness</category>
        
        <category>geek</category>
        
        <category>running</category>
        
      </item>
    
  </channel>
</rss>
